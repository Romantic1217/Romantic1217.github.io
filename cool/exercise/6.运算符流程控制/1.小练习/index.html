<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<style type="text/css">
			p{
				width: 700px;
				height: 50px;
				margin: 30px auto 0;
			}
			span{
				display: inline-block;
				width: 50px;
				height: 50px;
				font: 40px/50px arial;
				border-radius: 50%;
				background-color: #97e51b;
				text-align: center;
				border: 1px solid #14ecb2;
				cursor: pointer;
			}
			.active{
				opacity: .5;
				background-color: palevioletred;
				
			}
		</style>
	</head>
	<body>
		<p>
			<span>-5</span>
			<span>-4</span>
			<span>-3</span>
			<span>-2</span>
			<span>-1</span>
			<span>0</span>
			<span>1</span>
			<span>2</span>
			<span>3</span>
			<span>4</span>
			<span>5</span>
		</p>
		<script type="text/javascript">
			function $(tagName,cont){
				return (cont||document).getElementsByTagName(tagName);
			}
			var oP = $('p')[0];
			var aSpan = $('span',oP);
			//找到中间的span对应的下标
			var half = (aSpan.length-1)/2;
			var str;
			//初始化
			aSpan[half].style.opacity = '.5';
			aSpan[half].style.backgroundColor = 'palevioletred';
			//移入事件
			for ( var i=0;i<aSpan.length;i++ ){
				/*aSpan[i].index = i;
				aSpan[i].onmouseover = function (){
					//清空样式
					clear();
					if ( this.index<half ){
						fn(this.index);	
					} else {
						fn1(this.index);	
					}
				};
				aSpan[i].onmouseout = function (){
					clear();
					if ( str<half ){
						fn(str);	
					} else {
						fn1(str);	
					}
				};
				aSpan[i].onclick = function (){
					str = this.index;
				};*/
				
				//匿名函数自执行，省了索引
				(function (nnum){
					aSpan[nnum].onmouseover = function (){
					//清空样式
					clear();
					if ( nnum<half ){
						fn(nnum);	
					} else {
						fn1(nnum);	
					}
				};
				aSpan[nnum].onmouseout = function (){
					clear();
					if ( str<half ){
						fn(str);	
					} else {
						fn1(str);	
					}
				};
				aSpan[nnum].onclick = function (){
					str = nnum;
				};
				})(i);
			}
			//清空样式的函数
			function clear(){
				for ( var i=0;i<aSpan.length;i++ ){
					aSpan[i].className = '';
				}
			}
			//往左找的函数
			function fn(num){
				for ( var i=num;i<=half;i++ ){
					aSpan[i].className = 'active';
				}
			}
			//往右找的函数
			function fn1(num){
				for ( var i=half;i<=num;i++ ){
					aSpan[i].className = 'active';
				}
			}
		</script>
	</body>
</html>
